<<<<<<< HEAD
<!-- Header -->
<header class="sticky top-0 z-40 bg-gradient-to-r from-gray-900/95 to-black/95 backdrop-blur-xl border-b border-white/10 shadow-2xl rounded-b-3xl transition-all duration-300">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-8 py-6">
    <div class="flex items-center gap-4">
      <!-- Icono con efecto gradiente -->
      <div class="relative group">
        <div class="absolute -inset-2 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-300"></div>
        <div class="relative bg-gradient-to-br from-gray-800/80 to-black/90 backdrop-blur-sm rounded-xl border border-white/10 p-3 group-hover:border-amber-500/30 transition-all duration-300">
          <mat-icon class="text-3xl bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-400 drop-shadow-sm">article</mat-icon>
        </div>
      </div>
      
      <!-- T칤tulo -->
      <div>
        <h1 class="text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-amber-300 via-orange-300 to-red-300 tracking-wide">
          Gesti칩n de <span class="text-white/90">Talleres</span>
        </h1>
        <p class="text-sm text-gray-400 font-light mt-1">{{ talleres.length }} talleres registrados en el sistema</p>
      </div>
    </div>
    
    <!-- Bot칩n Nuevo Taller -->
    <div class="relative group">
      <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-300"></div>
      <button
        (click)="openAgregarTaller()"
        class="relative flex items-center gap-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl border border-amber-500/30 px-6 py-3 font-semibold 
               hover:shadow-lg hover:shadow-amber-500/25 transform hover:scale-105 transition-all duration-300 group"
      >
        <mat-icon class="text-white transition-transform group-hover:rotate-90">add</mat-icon>
        Nuevo Taller
      </button>
    </div>
  </div>
  
  <!-- L칤nea decorativa -->
  <div class="h-px bg-gradient-to-r from-transparent via-amber-500/30 to-transparent"></div>
</header>

<!-- Contenido Principal -->
<div class="max-w-7xl mx-auto px-8 mt-8">

  <!-- Secci칩n de Filtros -->
  <div class="relative mb-8">
    <!-- Efecto de fondo para la secci칩n -->
    <div class="absolute -inset-4 bg-gradient-to-r from-amber-500/5 to-orange-500/5 rounded-3xl blur-xl opacity-30"></div>
    
    <div class="relative bg-gradient-to-br from-gray-900/80 to-black/90 backdrop-blur-xl rounded-3xl border border-white/10 p-8 shadow-2xl">
      
      <!-- Header de filtros -->
      <div class="flex items-center gap-3 mb-6">
        <div class="w-10 h-10 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-xl border border-white/10 flex items-center justify-center">
          <mat-icon class="text-lg bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-400">filter_list</mat-icon>
        </div>
        <div>
          <h2 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-300 to-orange-300">
            Filtros de B칰squeda
          </h2>
          <p class="text-sm text-gray-400 mt-1">Filtra los talleres seg칰n tus criterios</p>
        </div>
      </div>
      
      <!-- Grid de filtros -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        
        <!-- Filtro Categor칤a -->
        <div class="relative group">
          <div class="absolute -inset-2 bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-2xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"></div>
          <div class="relative">
            <label class="block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2">
              <mat-icon class="text-amber-400 text-lg">category</mat-icon>
              Categor칤a
            </label>
            <select
              [(ngModel)]="filtros.id_categoria"
              class="w-full bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-3 text-white
                     focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/30 transition-all duration-300"
            >
              <option value="" class="bg-gray-800 text-gray-400">Todas las categor칤as</option>
              <option *ngFor="let cat of categorias" [value]="cat._id" class="bg-gray-800 text-white">{{ cat.nombre }}</option>
            </select>
          </div>
        </div>

        <!-- Filtro Estado -->
        <div class="relative group">
          <div class="absolute -inset-2 bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-2xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"></div>
          <div class="relative">
            <label class="block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2">
              <mat-icon class="text-orange-400 text-lg">toggle_on</mat-icon>
              Estado
            </label>
            <select
              [(ngModel)]="filtros.estado"
              class="w-full bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-3 text-white
                     focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/30 transition-all duration-300"
            >
              <option value="" class="bg-gray-800 text-gray-400">Todos los estados</option>
              <option value="activo" class="bg-gray-800 text-white">Activo</option>
              <option value="inactivo" class="bg-gray-800 text-white">Inactivo</option>
            </select>
          </div>
        </div>

        <!-- Filtro Fecha Inicio -->
        <div class="relative group">
          <div class="absolute -inset-2 bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-2xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"></div>
          <div class="relative">
            <label class="block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2">
              <mat-icon class="text-yellow-400 text-lg">event_available</mat-icon>
              Fecha Inicio
            </label>
            <input
              type="date"
              [(ngModel)]="filtros.fecha_inicio"
              class="w-full bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-3 text-white
                     focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/30 transition-all duration-300"
            />
          </div>
        </div>

        <!-- Filtro Fecha Fin -->
        <div class="relative group">
          <div class="absolute -inset-2 bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-2xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"></div>
          <div class="relative">
            <label class="block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2">
              <mat-icon class="text-red-400 text-lg">event_busy</mat-icon>
              Fecha Fin
            </label>
            <input
              type="date"
              [(ngModel)]="filtros.fecha_fin"
              class="w-full bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-3 text-white
                     focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/30 transition-all duration-300"
            />
          </div>
        </div>
      </div>

      <!-- Acciones de filtros -->
      <div class="flex justify-between items-center mt-8 pt-6 border-t border-white/10">
        <div class="relative group">
          <div class="absolute -inset-1 bg-gradient-to-r from-gray-500/10 to-gray-600/10 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <button
            class="relative flex items-center gap-2 text-gray-300 hover:text-white px-5 py-2.5 rounded-2xl font-medium transition-all duration-200"
            (click)="limpiarFiltros()"
          >
            <mat-icon class="text-gray-400">clear_all</mat-icon>
            Limpiar Filtros
          </button>
        </div>
        
        <div class="relative group">
          <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-300"></div>
          <button
            class="relative flex items-center gap-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-2.5 rounded-2xl border border-amber-500/30 font-semibold 
                   hover:shadow-lg hover:shadow-amber-500/25 transition-all duration-200"
            (click)="cargarTalleres()"
          >
            <mat-icon class="text-white">search</mat-icon>
            Aplicar Filtros
          </button>
        </div>
=======
<header class="sticky top-0 z-40 bg-white shadow-lg rounded-b-2xl transition-all duration-300">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-5">
    <div class="flex items-center gap-3">
      <div class="relative">
        <mat-icon class="text-[#F7A428] text-4xl drop-shadow-sm transition-transform hover:scale-110">article</mat-icon>
        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
      </div>
      <div>
        <h1 class="text-3xl font-extrabold text-gray-800 tracking-wide">
          Gesti칩n de <span class="text-[#F7A428]">Talleres</span>
        </h1>
        <p class="text-sm text-gray-500 mt-1">{{ talleres.length }} talleres registrados</p>
      </div>
    </div>
    <button
      (click)="openAgregarTaller()"
      class="flex items-center gap-2 bg-gradient-to-r from-[#F7A428] to-[#FFB74D] text-white hover:from-[#e69320] hover:to-[#F7A428] rounded-xl px-5 py-3 font-semibold shadow-md transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95 group"
    >
      <mat-icon class="text-white transition-transform group-hover:rotate-90">add</mat-icon>
      Nuevo Taller
    </button>
  </div>
</header>

<!-- 游댷 FILTROS MEJORADOS -->
<section class="bg-white shadow-md rounded-2xl mt-6 p-6 border border-gray-200 transition-all duration-300">
  <div class="flex items-center gap-2 mb-4">
    <mat-icon class="text-[#F7A428]">filter_list</mat-icon>
    <h2 class="text-lg font-semibold text-gray-800">Filtros de b칰squeda</h2>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-4 gap-5">
    <!-- Categor칤a -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1">
        <mat-icon class="text-[#F7A428] text-sm">category</mat-icon>
        Categor칤a
      </label>
      <select
        [(ngModel)]="filtros.id_categoria"
        class="block w-full border border-gray-300 rounded-lg shadow-sm focus:border-[#F7A428] focus:ring-2 focus:ring-[#F7A428]/30 p-2.5 bg-white transition-all duration-200"
      >
        <option value="">Todas las categor칤as</option>
        <option *ngFor="let cat of categorias" [value]="cat._id">{{ cat.nombre }}</option>
      </select>
    </div>

    <!-- Estado -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1">
        <mat-icon class="text-[#F7A428] text-sm">toggle_on</mat-icon>
        Estado
      </label>
      <select
        [(ngModel)]="filtros.estado"
        class="block w-full border border-gray-300 rounded-lg shadow-sm focus:border-[#F7A428] focus:ring-2 focus:ring-[#F7A428]/30 p-2.5 bg-white transition-all duration-200"
      >
        <option value="">Todos los estados</option>
        <option value="activo">Activo</option>
        <option value="inactivo">Inactivo</option>
      </select>
    </div>

    <!-- Fecha Inicio -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1">
        <mat-icon class="text-[#F7A428] text-sm">event_available</mat-icon>
        Fecha Inicio
      </label>
      <input
        type="date"
        [(ngModel)]="filtros.fecha_inicio"
        class="block w-full border border-gray-300 rounded-lg shadow-sm focus:border-[#F7A428] focus:ring-2 focus:ring-[#F7A428]/30 p-2.5 bg-white transition-all duration-200"
      />
    </div>

    <!-- Fecha Fin -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1">
        <mat-icon class="text-[#F7A428] text-sm">event_busy</mat-icon>
        Fecha Fin
      </label>
      <input
        type="date"
        [(ngModel)]="filtros.fecha_fin"
        class="block w-full border border-gray-300 rounded-lg shadow-sm focus:border-[#F7A428] focus:ring-2 focus:ring-[#F7A428]/30 p-2.5 bg-white transition-all duration-200"
      />
    </div>
  </div>

  <div class="flex justify-between mt-6">
    <button
      class="flex items-center gap-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:bg-gray-100"
      (click)="limpiarFiltros()"
    >
      <mat-icon class="text-gray-500">clear_all</mat-icon>
      Limpiar filtros
    </button>
    
    <div class="flex gap-3">
      <button
        class="flex items-center gap-2 bg-[#F7A428] hover:bg-[#e69320] text-white px-5 py-2.5 rounded-lg font-semibold shadow-md transition-all duration-200 hover:shadow-lg"
        (click)="cargarTalleres()"
      >
        <mat-icon class="text-white">search</mat-icon>
        Aplicar filtros
      </button>
    </div>
  </div>
</section>

<!-- 游릮 Cards de Talleres mejoradas -->
<section class="mt-8">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <mat-icon class="text-[#F7A428]">workshop</mat-icon>
      Lista de Talleres
    </h2>
    
    <div class="flex items-center gap-3">
      <div class="text-sm text-gray-600">
        Mostrando <span class="font-bold">{{ talleres.length }}</span> de <span class="font-bold">{{ totalTalleres }}</span> talleres
      </div>
      <div class="flex items-center bg-gray-100 rounded-lg p-1">
        <button 
          class="p-2 rounded-md transition-all"
          [class.bg-white]="vista === 'grid'"
          [class.shadow-sm]="vista === 'grid'"
          (click)="cambiarVista('grid')"
        >
          <mat-icon class="text-gray-600">grid_view</mat-icon>
        </button>
        <button 
          class="p-2 rounded-md transition-all"
          [class.bg-white]="vista === 'list'"
          [class.shadow-sm]="vista === 'list'"
          (click)="cambiarVista('list')"
        >
          <mat-icon class="text-gray-600">view_list</mat-icon>
        </button>
>>>>>>> ec79e4ae5b69dfa28162e5e8b7dff490d49ca3cd
      </div>
    </div>
  </div>

<<<<<<< HEAD
  <!-- Secci칩n de Lista de Talleres -->
  <div class="relative">
    <!-- Efecto de fondo para la secci칩n -->
    <div class="absolute -inset-4 bg-gradient-to-r from-amber-500/5 to-orange-500/5 rounded-3xl blur-xl opacity-30"></div>
    
    <div class="relative bg-gradient-to-br from-gray-900/80 to-black/90 backdrop-blur-xl rounded-3xl border border-white/10 p-8 shadow-2xl">
      
      <!-- Header de la lista -->
      <div class="flex justify-between items-center mb-8">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-xl border border-white/10 flex items-center justify-center">
            <mat-icon class="text-lg bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-400">workshop</mat-icon>
          </div>
          <div>
            <h2 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-300 to-orange-300">
              Lista de Talleres
            </h2>
            <p class="text-sm text-gray-400 mt-1">
              Mostrando <span class="font-semibold text-amber-400">{{ talleres.length }}</span> de 
              <span class="font-semibold text-orange-400">{{ totalTalleres }}</span> talleres
            </p>
          </div>
        </div>
        
        <!-- Selector de vista -->
        <div class="flex items-center gap-4">
          <div class="flex items-center bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm rounded-xl border border-white/10 p-1">
            <button 
              class="p-2 rounded-lg transition-all duration-200"
              [class.bg-gradient-to-r]="vista === 'grid'"
              [class.from-amber-500/20]="vista === 'grid'"
              [class.to-orange-500/20]="vista === 'grid'"
              [class.border]="vista === 'grid'"
              [class.border-amber-500/30]="vista === 'grid'"
              (click)="cambiarVista('grid')"
            >
              <mat-icon class="text-lg" [class.text-amber-400]="vista === 'grid'" [class.text-gray-400]="vista !== 'grid'">grid_view</mat-icon>
            </button>
            <button 
              class="p-2 rounded-lg transition-all duration-200"
              [class.bg-gradient-to-r]="vista === 'list'"
              [class.from-amber-500/20]="vista === 'list'"
              [class.to-orange-500/20]="vista === 'list'"
              [class.border]="vista === 'list'"
              [class.border-amber-500/30]="vista === 'list'"
              (click)="cambiarVista('list')"
            >
              <mat-icon class="text-lg" [class.text-amber-400]="vista === 'list'" [class.text-gray-400]="vista !== 'list'">view_list</mat-icon>
            </button>
          </div>
        </div>
      </div>

      <!-- Vista de Grid -->
      <div *ngIf="vista === 'grid'" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div
          *ngFor="let taller of talleres"
          class="relative group"
        >
          <!-- Efecto de borde gradiente -->
          <div class="absolute -inset-2 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-0 group-hover:opacity-30 transition-opacity duration-300"></div>
          
          <!-- Card del taller -->
          <div class="relative bg-gradient-to-br from-gray-800/60 to-black/80 backdrop-blur-sm rounded-2xl border border-white/10 overflow-hidden 
                     transition-all duration-300 group-hover:border-amber-500/30 group-hover:shadow-2xl group-hover:shadow-amber-500/10 group-hover:-translate-y-2">
            
            <!-- Badge de estado -->
            <div class="absolute top-4 right-4 z-10">
              <span 
                class="px-3 py-1.5 rounded-full text-xs font-semibold border backdrop-blur-sm transition-all duration-300"
                [class.bg-green-500/20]="taller.estado === 'activo'"
                [class.text-green-300]="taller.estado === 'activo'"
                [class.border-green-500/30]="taller.estado === 'activo'"
                [class.bg-red-500/20]="taller.estado === 'inactivo'"
                [class.text-red-300]="taller.estado === 'inactivo'"
                [class.border-red-500/30]="taller.estado === 'inactivo'"
              >
                {{ taller.estado === 'activo' ? 'Activo' : 'Inactivo' }}
              </span>
            </div>
            
            <!-- Imagen con overlay -->
            <div class="relative overflow-hidden h-48">
              <img
                [src]="taller.imagen_url || 'https://via.placeholder.com/400x200?text=Sin+imagen'"
                alt="{{ taller.nombre }}"
                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </div>

            <!-- Contenido de la card -->
            <div class="p-5 space-y-4">
              <h2 class="text-xl font-bold text-white line-clamp-1">{{ taller.nombre }}</h2>
              <p class="text-gray-400 text-sm line-clamp-2 leading-relaxed">{{ taller.descripcion }}</p>
              
              <!-- Informaci칩n del taller -->
              <div class="space-y-3">
                <div class="flex items-center gap-2 text-sm text-gray-300">
                  <div class="w-6 h-6 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-lg flex items-center justify-center">
                    <mat-icon class="text-amber-400 text-sm">schedule</mat-icon>
                  </div>
                  <span>{{ taller.horario }}</span>
                </div>

                <div class="flex justify-between text-sm text-gray-300">
                  <div class="flex items-center gap-2">
                    <div class="w-5 h-5 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded flex items-center justify-center">
                      <mat-icon class="text-green-400 text-sm">event_available</mat-icon>
                    </div>
                    <span>{{ taller.fecha_inicio | date:'dd/MM/yyyy' }}</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <div class="w-5 h-5 bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded flex items-center justify-center">
                      <mat-icon class="text-red-400 text-sm">event_busy</mat-icon>
                    </div>
                    <span>{{ taller.fecha_fin | date:'dd/MM/yyyy' }}</span>
                  </div>
                </div>
              </div>

              <hr class="border-white/10" />

              <!-- Precio y acciones -->
              <div class="flex justify-between items-center">
                <span class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-400">
                  S/ {{ taller.precio | number:'1.2-2' }}
                </span>
                
                <div class="flex items-center gap-2">
                  <!-- Toggle Estado -->
                  <div class="flex flex-col items-center">
                    <label class="flex items-center gap-2 cursor-pointer relative">
                      <input
                        type="checkbox"
                        class="sr-only"
                        [checked]="taller.estado === 'activo'"
                        (change)="cambiarEstado(taller, $event.target.checked)"
                      />
                      <div class="w-12 h-6 bg-gray-600 rounded-full shadow-inner transition-colors duration-300"
                           [class.bg-green-500]="taller.estado === 'activo'"></div>
                      <div class="dot absolute w-5 h-5 bg-white rounded-full shadow left-0.5 top-0.5 transition-transform duration-300"
                           [class.translate-x-6]="taller.estado === 'activo'"></div>
                    </label>
                  </div>

                  <!-- Botones de acci칩n -->
                  <button
                    class="w-10 h-10 bg-gradient-to-br from-blue-500/20 to-blue-600/20 backdrop-blur-sm rounded-xl border border-blue-500/30 
                           text-blue-400 hover:text-blue-300 hover:border-blue-400/50 transition-all duration-200 hover:scale-110 flex items-center justify-center"
                    (click)="editarTaller(taller)"
                    [matTooltip]="'Editar taller'"
                  >
                    <mat-icon class="text-sm">edit</mat-icon>
                  </button>
                  <button
                    class="w-10 h-10 bg-gradient-to-br from-red-500/20 to-red-600/20 backdrop-blur-sm rounded-xl border border-red-500/30 
                           text-red-400 hover:text-red-300 hover:border-red-400/50 transition-all duration-200 hover:scale-110 flex items-center justify-center"
                    (click)="eliminarTaller(taller._id)"
                    [matTooltip]="'Eliminar taller'"
                  >
                    <mat-icon class="text-sm">delete</mat-icon>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Vista de Lista -->
      <div *ngIf="vista === 'list'" class="rounded-2xl overflow-hidden border border-white/10 bg-gradient-to-br from-gray-800/40 to-black/60 backdrop-blur-sm">
        <div class="overflow-x-auto custom-scrollbar">
          <table class="min-w-full table-fixed" style="min-width: 1000px;">
            <thead class="bg-gradient-to-r from-amber-500/10 to-orange-500/10 border-b border-white/10">
              <tr>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-64">Taller</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-48">Categor칤a</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-40">Horario</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-48">Fechas</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-32">Precio</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300 uppercase tracking-wider w-32">Estado</th>
                <th class="px-6 py-4 text-center text-sm font-semibold text-gray-300 uppercase tracking-wider w-40">Acciones</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-white/10">
              <tr *ngFor="let taller of talleres" class="hover:bg-white/5 transition-all duration-200">
                <td class="px-6 py-4">
                  <div class="flex items-center gap-4">
                    <div class="relative">
                      <img 
                        [src]="taller.imagen_url || 'https://via.placeholder.com/60x40?text=Sin+imagen'" 
                        alt="{{ taller.nombre }}"
                        class="w-14 h-10 object-cover rounded-xl border border-white/10"
                      />
                    </div>
                    <div>
                      <div class="font-medium text-white">{{ taller.nombre }}</div>
                      <div class="text-xs text-gray-400 line-clamp-1 mt-1">{{ taller.descripcion }}</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 text-sm text-gray-300">{{ obtenerNombreCategoria(taller.id_categoria) }}</td>
                <td class="px-6 py-4 text-sm text-gray-300">{{ taller.horario }}</td>
                <td class="px-6 py-4 text-sm text-gray-300">
                  <div class="flex flex-col gap-1">
                    <div class="flex items-center gap-1">
                      <mat-icon class="text-green-400 text-sm">event_available</mat-icon>
                      <span>{{ taller.fecha_inicio | date:'dd/MM/yyyy' }}</span>
                    </div>
                    <div class="flex items-center gap-1 text-xs text-gray-400">
                      <mat-icon class="text-red-400 text-sm">event_busy</mat-icon>
                      <span>{{ taller.fecha_fin | date:'dd/MM/yyyy' }}</span>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 text-sm font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-400">
                  S/ {{ taller.precio | number:'1.2-2' }}
                </td>
                <td class="px-6 py-4">
                  <label class="flex items-center gap-2 cursor-pointer relative">
                    <input
                      type="checkbox"
                      class="sr-only"
                      [checked]="taller.estado === 'activo'"
                      (change)="cambiarEstado(taller, $event.target.checked)"
                    />
                    <div class="w-10 h-5 bg-gray-600 rounded-full shadow-inner transition-colors duration-300"
                         [class.bg-green-500]="taller.estado === 'activo'"></div>
                    <div class="dot absolute w-4 h-4 bg-white rounded-full shadow left-0.5 top-0.5 transition-transform duration-300"
                         [class.translate-x-5]="taller.estado === 'activo'"></div>
                  </label>
                </td>
                <td class="px-6 py-4">
                  <div class="flex items-center justify-center gap-2">
                    <button
                      class="w-9 h-9 bg-gradient-to-br from-blue-500/20 to-blue-600/20 backdrop-blur-sm rounded-xl border border-blue-500/30 
                             text-blue-400 hover:text-blue-300 hover:border-blue-400/50 transition-all duration-200 hover:scale-110 flex items-center justify-center"
                      (click)="editarTaller(taller)"
                      [matTooltip]="'Editar taller'"
                    >
                      <mat-icon class="text-sm">edit</mat-icon>
                    </button>
                    <button
                      class="w-9 h-9 bg-gradient-to-br from-red-500/20 to-red-600/20 backdrop-blur-sm rounded-xl border border-red-500/30 
                             text-red-400 hover:text-red-300 hover:border-red-400/50 transition-all duration-200 hover:scale-110 flex items-center justify-center"
                      (click)="eliminarTaller(taller._id)"
                      [matTooltip]="'Eliminar taller'"
                    >
                      <mat-icon class="text-sm">delete</mat-icon>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- Indicador de Scroll -->
        <div class="px-6 py-3 border-t border-white/10 bg-gradient-to-r from-amber-500/5 to-orange-500/5">
          <div class="flex items-center justify-center gap-2 text-xs text-gray-400">
            <mat-icon class="text-xs">swap_horiz</mat-icon>
            <span>Desliza horizontalmente para ver m치s columnas</span>
          </div>
        </div>
      </div>

      <!-- Estado vac칤o -->
      <div *ngIf="talleres.length === 0" class="text-center py-16">
        <div class="w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-gray-700/60 to-black/80 rounded-2xl border border-white/10 flex items-center justify-center">
          <mat-icon class="text-4xl text-gray-400">workshop</mat-icon>
        </div>
        <h3 class="text-xl font-semibold text-gray-300 mb-3">No se encontraron talleres</h3>
        <p class="text-gray-400 mb-6 max-w-md mx-auto">No hay talleres que coincidan con los filtros aplicados en este momento.</p>
        <div class="relative group">
          <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-300"></div>
          <button
            (click)="limpiarFiltros()"
            class="relative bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl border border-amber-500/30 px-6 py-3 font-semibold 
                   hover:shadow-lg hover:shadow-amber-500/25 transition-all duration-200 flex items-center gap-2 mx-auto"
          >
            <mat-icon class="text-white">refresh</mat-icon>
            Ver Todos los Talleres
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Estilos personalizados -->
<style>
  /* Scrollbar personalizado */
  .custom-scrollbar::-webkit-scrollbar {
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    margin: 0 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #f59e0b, #f97316);
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #d97706, #ea580c);
  }

  /* Para Firefox */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #f59e0b rgba(255, 255, 255, 0.05);
  }

  /* Mejora para los tooltips de Angular Material */
  ::ng-deep .mat-tooltip {
    background: linear-gradient(135deg, #1f2937, #111827) !important;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 0.75rem !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.875rem !important;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3) !important;
  }

  /* Asegurar que las tablas tengan ancho m칤nimo */
  .table-fixed {
    table-layout: fixed;
  }

  /* Mejorar el truncado de texto */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Transiciones suaves */
  * {
    transition-property: color, background-color, border-color, transform, box-shadow;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
</style>
=======
  <!-- Vista de Grid (predeterminada) -->
  <div *ngIf="vista === 'grid'" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      *ngFor="let taller of talleres"
      class="bg-white rounded-2xl shadow-md overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group"
    >
      <!-- Badge de estado -->
      <div class="absolute top-4 right-4 z-10">
        <span 
          class="px-3 py-1 rounded-full text-xs font-semibold shadow-sm"
          [class.bg-green-100]="taller.estado === 'activo'"
          [class.text-green-800]="taller.estado === 'activo'"
          [class.bg-red-100]="taller.estado === 'inactivo'"
          [class.text-red-800]="taller.estado === 'inactivo'"
        >
          {{ taller.estado === 'activo' ? 'Activo' : 'Inactivo' }}
        </span>
      </div>
      
      <!-- Imagen con overlay -->
      <div class="relative overflow-hidden">
        <img
          [src]="taller.imagen_url || 'https://via.placeholder.com/400x200?text=Sin+imagen'"
          alt="{{ taller.nombre }}"
          class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105"
        />
        <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </div>

      <div class="p-5 space-y-3">
        <h2 class="text-xl font-bold text-gray-800 line-clamp-1">{{ taller.nombre }}</h2>
        <p class="text-gray-600 text-sm line-clamp-2">{{ taller.descripcion }}</p>
        
        <div class="flex items-center gap-2 text-sm text-gray-700">
          <mat-icon class="text-[#F7A428] text-sm">schedule</mat-icon>
          <span>{{ taller.horario }}</span>
        </div>

        <div class="flex justify-between text-sm text-gray-700">
          <div class="flex items-center gap-1">
            <mat-icon class="text-[#F7A428] text-sm">event_available</mat-icon>
            <span>{{ taller.fecha_inicio | date:'dd/MM/yyyy' }}</span>
          </div>
          <div class="flex items-center gap-1">
            <mat-icon class="text-[#F7A428] text-sm">event_busy</mat-icon>
            <span>{{ taller.fecha_fin | date:'dd/MM/yyyy' }}</span>
          </div>
        </div>

        <hr class="my-3 border-gray-300" />

        <div class="flex justify-between items-center">
          <span class="text-xl font-bold text-[#F7A428]">S/ {{ taller.precio | number:'1.2-2' }}</span>
          
          <div class="flex items-center gap-2">
            <!-- Toggle Estado mejorado -->
            <div class="flex flex-col items-center">
              <label class="flex items-center gap-2 cursor-pointer relative">
                <input
                  type="checkbox"
                  class="sr-only"
                  [checked]="taller.estado === 'activo'"
                  (change)="cambiarEstado(taller, $event.target.checked)"
                />
                <div class="w-12 h-6 bg-gray-300 rounded-full shadow-inner transition-colors duration-300"
                     [class.bg-green-500]="taller.estado === 'activo'"></div>
                <div class="dot absolute w-5 h-5 bg-white rounded-full shadow left-0.5 top-0.5 transition-transform duration-300"
                     [class.translate-x-6]="taller.estado === 'activo'"></div>
              </label>
              <span class="text-xs mt-1 font-medium" [ngClass]="taller.estado === 'activo' ? 'text-green-600' : 'text-gray-500'">
                {{ taller.estado === 'activo' ? 'Activo' : 'Inactivo' }}
              </span>
            </div>

            <button
              class="p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-all duration-200 hover:scale-110"
              (click)="editarTaller(taller)"
              matTooltip="Editar taller"
            >
              <mat-icon class="text-sm">edit</mat-icon>
            </button>
            <button
              class="p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all duration-200 hover:scale-110"
              (click)="eliminarTaller(taller._id)"
              matTooltip="Eliminar taller"
            >
              <mat-icon class="text-sm">delete</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vista de Lista (alternativa) -->
  <div *ngIf="vista === 'list'" class="bg-white rounded-2xl shadow-md overflow-hidden border border-gray-200">
    <table class="w-full">
      <thead class="bg-gray-50">
        <tr>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Taller</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Categor칤a</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Horario</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Fechas</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Precio</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Estado</th>
          <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700">Acciones</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <tr *ngFor="let taller of talleres" class="hover:bg-gray-50 transition-colors">
          <td class="py-3 px-4">
            <div class="flex items-center gap-3">
              <img 
                [src]="taller.imagen_url || 'https://via.placeholder.com/60x40?text=Sin+imagen'" 
                alt="{{ taller.nombre }}"
                class="w-12 h-10 object-cover rounded"
              />
              <div>
                <div class="font-medium text-gray-900">{{ taller.nombre }}</div>
                <div class="text-xs text-gray-500 line-clamp-1">{{ taller.descripcion }}</div>
              </div>
            </div>
          </td>
          <td class="py-3 px-4 text-sm text-gray-700">{{ obtenerNombreCategoria(taller.id_categoria) }}</td>
          <td class="py-3 px-4 text-sm text-gray-700">{{ taller.horario }}</td>
          <td class="py-3 px-4 text-sm text-gray-700">
            <div>{{ taller.fecha_inicio | date:'dd/MM/yyyy' }}</div>
            <div class="text-xs text-gray-500">al {{ taller.fecha_fin | date:'dd/MM/yyyy' }}</div>
          </td>
          <td class="py-3 px-4 text-sm font-semibold text-[#F7A428]">S/ {{ taller.precio | number:'1.2-2' }}</td>
          <td class="py-3 px-4">
            <label class="flex items-center gap-2 cursor-pointer relative">
              <input
                type="checkbox"
                class="sr-only"
                [checked]="taller.estado === 'activo'"
                (change)="cambiarEstado(taller, $event.target.checked)"
              />
              <div class="w-10 h-5 bg-gray-300 rounded-full shadow-inner transition-colors duration-300"
                   [class.bg-green-500]="taller.estado === 'activo'"></div>
              <div class="dot absolute w-4 h-4 bg-white rounded-full shadow left-0.5 top-0.5 transition-transform duration-300"
                   [class.translate-x-5]="taller.estado === 'activo'"></div>
            </label>
          </td>
          <td class="py-3 px-4">
            <div class="flex gap-2">
              <button
                class="p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors"
                (click)="editarTaller(taller)"
                matTooltip="Editar taller"
              >
                <mat-icon class="text-sm">edit</mat-icon>
              </button>
              <button
                class="p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors"
                (click)="eliminarTaller(taller._id)"
                matTooltip="Eliminar taller"
              >
                <mat-icon class="text-sm">delete</mat-icon>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Mensaje cuando no hay talleres -->
  <div *ngIf="talleres.length === 0" class="text-center py-12 bg-white rounded-2xl shadow-sm border border-gray-200">
    <mat-icon class="text-6xl text-gray-300 mb-4">workshop</mat-icon>
    <h3 class="text-xl font-semibold text-gray-600 mb-2">No se encontraron talleres</h3>
    <p class="text-gray-500 mb-6">No hay talleres que coincidan con los filtros aplicados.</p>
    <button
      (click)="limpiarFiltros()"
      class="bg-[#F7A428] hover:bg-[#e69320] text-white px-5 py-2.5 rounded-lg font-semibold shadow-md transition-all duration-200"
    >
      <mat-icon class="text-white align-middle mr-1">refresh</mat-icon>
      Ver todos los talleres
    </button>
  </div>
</section>
>>>>>>> ec79e4ae5b69dfa28162e5e8b7dff490d49ca3cd
